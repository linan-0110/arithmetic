<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<script type="text/javascript">
			class MyPromise {
				value = undefined
				status = 'pending'
				constructor(resolver) {
					let resolve = (val) => {
						this.status = 'resolved'
						this.value = val
					}
					let reject = (val) => {
						this.status = 'resolved'
						this.value = val
					}
					resolver(resolve, reject)
				}
				then = (callbackResolve, callbackReject) => {
					if(callbackResolve && this.status === 'resolved') {
						callbackResolve(this.value)
					} else if(callbackResolve && (this.status === 'rejected' || this.status === 'pending')) {
						callbackResolve(this.value)
					}
					return this
				}
				catch = (callbackReject) => {
					if(callbackReject && this.status === 'rejected') {
						callbackReject(this.value)
					}
				}
			}
			
			new MyPromise((resolve, reject) => {
				resolve('11111111')
				// reject('22222')
			}).then(res => {
				console.log(res)
			}, err => {
				console.error(err)
			}).catch(err => {
				console.error(err)
			})
		</script>
	</body>
</html>
